- [1. 说说你对JVM内存模型的了解，每个区的作用是什么?](#1-说说你对JVM内存模型的了解，每个区的作用是什么?)
- [2. JVM什么情况下会发生栈内存溢出](#2-JVM什么情况下会发生栈内存溢出)
- [3. JVM什么情况下会发生栈内存溢出](#3-JVM什么情况下会发生栈内存溢出)
## 1. 说说你对JVM内存模型的了解，每个区的作用是什么?
### 栈区：
栈分为java虚拟机栈和本地方法栈

重点是Java虚拟机栈，它是线程私有的，生命周期与线程相同。

每个方法执行都会创建一个栈帧，用于存放局部变量表，操作栈，动态链接，方法出口等。每个方法从被调用，直到被执行完。对应着一个栈帧在虚拟机中从入栈到出栈的过程。

通常说的栈就是指局部变量表部分，存放编译期间可知的8种基本数据类型，及对象引用和指令地址。局部变量表是在编译期间完成分配，当进入一个方法时，这个栈中的局部变量分配内存大小是确定的。

会有两种异常StackOverFlowError和 OutOfMemoneyError。当线程请求栈深度大于虚拟机所允许的深度就会抛出StackOverFlowError错误；虚拟机栈动态扩展，当扩展无法申请到足够的内存空间时候，抛出OutOfMemoneyError。

本地方法栈为虚拟机使用到本地方法服务（native）

### 堆区：

- 堆是被所有线程共享的一块区域，在虚拟机启动时创建，唯一目的存放对象实例。
- 堆被划分成两个不同的区域：新生代（Young）、老年代（Old）。
- 新生代又被划分为三个区域：Eden和两个幸存区（From survivor 和 To survivor）。
- 新生代主要存储新创建的对象和尚未进入老年代的对象。老年代存储经过多次新生代GC(Minor GC）后仍然存活的对象。
- 会有异常OutOfMemoneyError

### 方法区：

- 被所有线程共享的区域，用于存放已被虚拟机加载的类信息，常量，静态变量等数据。被Java虚拟机描述为堆的一个逻辑部分。有时候也称它为永久代（permanment generation）

- 垃圾回收很少光顾这个区域，不过也是需要回收的，主要针对常量池回收，类型卸载。

- 常量池用于存放编译期生成的各种字节码和符号引用，常量池具有一定的动态性，里面可以存放编译期生成的常量；运行期间的常量也可以添加进入常量池中，比如string的intern()方法。

### 程序计数器：

- 当前线程所执行的行号指示器。通过改变计数器的值来确定下一条指令，比如循环，分支，跳转，异常处理，线程恢复等都是依赖计数器来完成。

- Java虚拟机多线程是通过线程轮流切换并分配处理器执行时间的方式实现的。为了线程切换能恢复到正确的位置，每条线程都需要一个独立的程序计数器，所以它是线程私有的。

- 唯一一块Java虚拟机没有规定任何OutofMemoryError的区块。
## 2. JVM什么情况下会发生栈内存溢出
