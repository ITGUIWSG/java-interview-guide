- [1. 说说TCP的三次握手](#1-说说TCP的三次握手)
- [2. 谈谈TCP的四次挥手](#2-谈谈TCP的四次挥手)
- [3. 为什么会有TIME_WAIT状态](#3-为什么会有TIME_WAIT状态)
- [4. 服务器出现大量TIME_WAIT状态的原因有什么](#4-服务器出现大量TIME_WAIT状态的原因有什么)
- [5. UDP的特点](#5-UDP的特点)
- [6. TCP与UDP的区别](#6-TCP与UDP的区别)
- [7. Http的主要特点](#7-Http的主要特点)
- [8. Http请求/响应的步骤](#8-Http请求/响应的步骤)
- [9. 在浏览器地址栏输入URL，按下回车之后经历的流程](#9-在浏览器地址栏输入URL，按下回车之后经历的流程)
- [10. Http状态码](#10-Http状态码)
- [11. Http常见状态码](#11-Http常见状态码)
- [12. Get请求和Post请求的区别](#12-Get请求和Post请求的区别)
- [13. Cookie与Session的区别](#13-Cookie与Session的区别)
- [14. HTTPS数据传输流程](#14-HTTPS数据传输流程)
- [15. HTTP与HTTPS的区别](#15-HTTP与HTTPS的区别)
## 1. 说说TCP的三次握手
- 在TCP/IP协议中，TCP协议提供可靠的连接服务，采用三次握手建立一个连接。
- 第一次握手：建立连接时，客户端发送SYN包（syn=j）到服务器，并进入SYN_SEND状态，等待服务器确认
- 第二次握手：服务器收到SYN包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态
- 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK（ack=k+1）,此包发送完毕，客户端和服务端进入ESTABLISHED状态，完成三次握手
## 2. 谈谈TCP的四次挥手
- TCP采用四次挥手来释放连接
- 第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态
- 第二次挥手：Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），Server进入CLOSE_WAIT状态
- 第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入到LAST_ACK状态
- 第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手
## 3. 为什么会有TIME_WAIT状态
- 确保有足够的时间让对方收到ACK包
- 避免新旧连接混淆
## 4. 服务器出现大量CLOSE_WAIT状态的原因有什么
- 对方关闭socket连接，我方忙于读或写，没有及时关闭连接
- 解决方案
  - 检查代码，特别是释放资源的代码
  - 检查配置，特别是处理请求的线程配置
## 5. UDP的特点
- 面向非连接
- 不维护连接状态，支持同时向多个客户端传输相同的消息
- 数据包报头只有8个字节，额外开销较小
- 吞吐量只受限于数据生成速率、传输速率以及机器性能
- 尽最大努力交付，不保证可靠交付，不需要维持复杂的链接状态表
- 面向报文，不对应用程序提交的报文信息进行拆分或者合并
## 6. TCP与UDP的区别
1. TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接
2. TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付
  - Tcp通过校验和，重传控制，序号标识，滑动窗口、确认应答实现可靠传输。如丢包时的重发控制，还可以对次序乱掉的分包进行顺序控制。

3. UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性有较高的通信或广播通信。
4. 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
5. TCP对系统资源要求较多，UDP对系统资源要求较少。
## 7. Http的主要特点
- 支持客户端/服务端模式
- 简单快速
- 灵活
- 无连接
- 无状态
## 8. Http请求/响应的步骤
1. 客户端链接到Web服务器
2. 发送HTTP请求
3. 服务器接受请求并返回HTTP响应
4. 释放连接TCP连接
5. 客户端浏览器解析HTML内容
## 9. 在浏览器地址栏输入URL，按下回车之后经历的流程
1. DNS解析
2. TCP连接
3. 发送HTTP请求
4. 服务器处理请求并返回HTTP报文
5. 浏览器解析渲染页面
6. 连接结束
## 10. Http状态码
- 1xx:指示信息--表示请求已接收，继续处理
- 2xx:成功--表示表示请求已经被成功接收、理解、接受
- 3xx:重定向--要完成请求必须进行更进一步操作
- 4xx:客户端错误--请求有语法错误或请求无法实现
- 5xx:服务端错误--服务端未能实现合法的请求
## 11. Http常见状态码
- 200 OK：正常返回信息
- 400 Bad Request：客户端请求有语法错误，不能被服务器所理解
- 401 Unauthorized：请求未经授权
- 403 Forbidden：服务器收到请求，但是拒绝提供服务
- 404 Not Found：请求资源不存在
- 500 Internal Server Error：服务器发生不可预期的错误
- 503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复
## 12. Get请求和Post请求的区别
- GET在浏览器回退时是无害的，而POST会再次提交请求。
- GET请求会被浏览器主动cache，而POST不会，除非手动设置。
- GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。
- GET请求在URL中传送的参数是有长度限制的，而POST么有。
- GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。
- GET参数通过URL传递，POST放在Request body中。
## 13. Cookie与Session的区别
- Cookie数据存放在客户的浏览器上，Session数据放在服务器上
- Session相对于Cookie更安全
- 若考虑减轻服务器负担，应当使用Cookie
## 14. HTTPS数据传输流程
- 浏览器将支持的加密算法信息发送给服务器
- 服务器选择一套浏览器支持的加密算法，以证书的形式回发浏览器
- 浏览器验证证书合法性，并结合证书公钥加密信息发送给服务器
- 服务器使用私钥解密信息，验证哈希，加密相应消息回发浏览器
- 浏览器解密响应消息，并对消息进行验证，之后进行加密交互数据
## 15. HTTP与HTTPS的区别
- HTTPS需要CA申请证书，HTTP不需要
- HTTPS密文传输，HTTP明文传输
- 连接方式不同，HTTPS默认使用443端口，HTTP使用80端口
- HTTPS=HTTP+加密+认证+完整性保护，较HTTP安全
